---
title: C6308 | Documenti Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- vs-ide-code-analysis
ms.topic: conceptual
f1_keywords:
- C6308
helpviewer_keywords:
- C6308
ms.assetid: 1162cd96-9037-4576-9858-0c8361a12559
author: mikeblome
ms.author: mblome
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: ad94b2a809c6724ca8a2a367bf58c3a9468268d1
ms.sourcegitcommit: 6a9d5bd75e50947659fd6c837111a6a547884e2a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/16/2018
---
# <a name="c6308"></a>C6308
avviso C6308: 'realloc' può restituire un puntatore null: l'assegnazione di un puntatore null a \<variabile >, che viene passato come argomento a 'realloc', provocherà il perdita del blocco di memoria originale  
  
 Questo avviso indica un problema di memoria che è il risultato dell'utilizzo non corretto di una funzione di riallocazione. Le funzioni di riallocazione heap non rilasciare la dimensione del buffer se riassegnazione ha esito negativo. Per risolvere il problema, assegnare il risultato della funzione di riallocazione a una variabile temporanea e quindi sostituire il puntatore originale dopo la riuscita della riallocazione.  
  
## <a name="example"></a>Esempio  
 Esempio di codice seguente genera questo avviso:  
  
```cpp  
#include <malloc.h>  
#include <windows.h>  
  
void f( )  
{  
  char *x;  
  x = (char *) malloc(10);  
  if (x != NULL)  
  {  
    x = (char *) realloc(x, 512);  
    // code...  
    free(x);  
  }     
}  
```  
  
 Per risolvere il problema, utilizzare il codice seguente:  
  
```cpp  
#include <malloc.h>  
#include <windows.h>  
  
void f()  
{  
  char *x, *tmp;  
  
  x = (char *) malloc(10);  
  
  if (x != NULL)  
  {  
    tmp = (char *) realloc(x,512);  
    if (tmp != NULL)   
    {  
      x = tmp;  
    }  
    free(x);  
  }  
}  
```  
  
 Questo avviso potrebbe generare disturbo se è presente un alias in tempo reale per il buffer per-riallocare al momento dell'assegnazione del risultato della funzione di riallocazione.  
  
 Per evitare questi tipi di problemi del tutto, utilizzare i meccanismi forniti dalla libreria di modello Standard (STL) di C++. Questi includono [shared_ptr](/cpp/standard-library/shared-ptr-class), [unique_ptr](/cpp/standard-library/unique-ptr-class), e [vettore](/cpp/standard-library/vector). Per ulteriori informazioni, vedere [puntatori intelligenti](/cpp/cpp/smart-pointers-modern-cpp) e [della libreria Standard C++](/cpp/standard-library/cpp-standard-library-reference).  
  
## <a name="see-also"></a>Vedere anche  
 [C6014](../code-quality/c6014.md)