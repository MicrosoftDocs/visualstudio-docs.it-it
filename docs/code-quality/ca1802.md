---
title: 'CA1802: Utilizza valori letterali dove appropriato'
ms.date: 03/11/2019
ms.topic: reference
f1_keywords:
- UseLiteralsWhereAppropriate
- CA1802
helpviewer_keywords:
- UseLiteralsWhereAppropriate
- CA1802
ms.assetid: 2515e4cd-9e61-486d-b067-58ba1a743ce4
author: mikejo5000
ms.author: mikejo
manager: jillfra
dev_langs:
- CSharp
- VB
ms.workload:
- multiple
ms.openlocfilehash: 7ce774d312c0b49cc71c9e99fdb07e768797093b
ms.sourcegitcommit: de98ed7edc81383e47b87ae6e61143fbbbe7bc56
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/21/2020
ms.locfileid: "88710026"
---
# <a name="ca1802-use-literals-where-appropriate"></a>CA1802: Utilizza valori letterali dove appropriato

|Elemento|valore|
|-|-|
|CheckId|CA1802|
|Category|Microsoft. performance|
|Modifica|Senza interruzioni|

## <a name="cause"></a>Causa

Un campo viene dichiarato `static` e `readonly` ( `Shared` e `ReadOnly` in Visual Basic) e viene inizializzato con un valore calcolabile in fase di compilazione.

Per impostazione predefinita, questa regola esamina solo i campi visibili esternamente, statici e di sola lettura, ma è [configurabile](#configurability).

## <a name="rule-description"></a>Descrizione della regola

Il valore di un `static readonly` campo viene calcolato in fase di esecuzione quando viene chiamato il costruttore statico per il tipo dichiarante. Se il `static readonly` campo viene inizializzato quando viene dichiarato e un costruttore statico non è dichiarato in modo esplicito, il compilatore genera un costruttore statico per inizializzare il campo.

Il valore di un `const` campo viene calcolato in fase di compilazione e archiviato nei metadati, che aumenta le prestazioni in fase di esecuzione quando viene confrontato con un `static readonly` campo.

Poiché il valore assegnato al campo di destinazione è calcolabile in fase di compilazione, modificare la dichiarazione in un `const` campo in modo che il valore venga calcolato in fase di compilazione anziché in fase di esecuzione.

## <a name="how-to-fix-violations"></a>Come correggere le violazioni

Per correggere una violazione di questa regola, sostituire i `static` `readonly` modificatori e con il `const` modificatore.

> [!NOTE]
> L'uso del modificatore [const](/dotnet/csharp/language-reference/keywords/const) non è consigliato per tutti gli scenari.

## <a name="when-to-suppress-warnings"></a>Quando escludere gli avvisi

È possibile eliminare un avviso da questa regola o disabilitare la regola se le prestazioni non sono di alcun interesse.

## <a name="configurability"></a>Configurabilità

Questa regola include le opzioni configurabili seguenti.

### <a name="api-surface"></a>Superficie API

È possibile configurare le parti della codebase su cui eseguire questa regola, in base all'accessibilità. Ad esempio, per specificare che la regola deve essere eseguita solo sulla superficie dell'API non pubblica, aggiungere la coppia chiave-valore seguente a un file con estensione EditorConfig nel progetto:

```ini
dotnet_code_quality.ca1802.api_surface = private, internal
```

È possibile configurare questa opzione solo per questa regola, per tutte le regole o per tutte le regole in questa categoria (prestazioni). Per altre informazioni, vedere [configurare gli analizzatori di qualità del codice .NET](configure-fxcop-analyzers.md).

### <a name="required-modifiers"></a>Modificatori obbligatori

È possibile configurare questa regola per eseguire l'override dei modificatori di campo obbligatori. Per impostazione predefinita, `static` e `readonly` sono entrambi modificatori obbligatori per i campi analizzati. È possibile eseguire l'override di questo valore in un elenco delimitato da virgole di uno o più valori di modifica della tabella seguente:

| Valore dell'opzione | Riepilogo |
| --- | --- |
| `none` | Nessun requisito del modificatore. |
| `static` o `Shared` | Deve essere dichiarato come "static" ("Shared" in Visual Basic). |
| `const` | Deve essere dichiarato come ' const '. |
| `readonly` | Deve essere dichiarato come ' ReadOnly '. |

Ad esempio, per specificare che la regola deve essere eseguita in entrambi i campi statici e di istanza, aggiungere la coppia chiave-valore seguente a un file con estensione EditorConfig nel progetto:

```ini
dotnet_code_quality.CA1802.required_modifiers = none
```

## <a name="example"></a>Esempio

Nell'esempio seguente viene illustrato un tipo, `UseReadOnly` , che viola la regola e un tipo, `UseConstant` , che soddisfa la regola.

[!code-vb[FxCop.Performance.UseLiterals#1](../code-quality/codesnippet/VisualBasic/ca1802-use-literals-where-appropriate_1.vb)]
[!code-csharp[FxCop.Performance.UseLiterals#1](../code-quality/codesnippet/CSharp/ca1802-use-literals-where-appropriate_1.cs)]
