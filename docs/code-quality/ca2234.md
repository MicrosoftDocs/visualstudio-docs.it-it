---
title: 'CA2234: Passare oggetti System.Uri invece di stringhe'
ms.date: 03/11/2019
ms.topic: reference
f1_keywords:
- PassSystemUriObjectsInsteadOfStrings
- CA2234
helpviewer_keywords:
- CA2234
- PassSystemUriObjectsInsteadOfStrings
ms.assetid: 14616b37-74c4-4286-b051-115d00aceb5f
author: mikejo5000
ms.author: mikejo
manager: jillfra
dev_langs:
- CSharp
- VB
ms.workload:
- multiple
ms.openlocfilehash: 62a328641f89d919ba42f692219701639fd25f7d
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/02/2020
ms.locfileid: "88707764"
---
# <a name="ca2234-pass-systemuri-objects-instead-of-strings"></a>CA2234: Passare oggetti System.Uri invece di stringhe

|Elemento|valore|
|-|-|
|CheckId|CA2234|
|Category|Microsoft. Usage|
|Modifica|Senza interruzioni|

## <a name="cause"></a>Causa

Viene eseguita una chiamata a un metodo che dispone di un parametro di stringa il cui nome contiene "URI", "URI", "urn", "urn", "URL" o "URL" e il tipo dichiarante del metodo contiene un overload del metodo corrispondente che include un <xref:System.Uri?displayProperty=fullName> parametro.

Per impostazione predefinita, questa regola esamina solo i tipi e i metodi visibili esternamente, ma è [configurabile](#configurability).

## <a name="rule-description"></a>Descrizione della regola

Un nome di parametro viene suddiviso in token in base alla convenzione della convenzione Camel, quindi ogni token viene controllato per verificare se è uguale a "URI", "URI", "urn", "urn", "URL" o "URL". Se esiste una corrispondenza, si presuppone che il parametro rappresenti un URI (Uniform Resource Identifier). Una rappresentazione in forma di stringa di un URI è soggetta a errori di analisi e codifica e può creare vulnerabilità nella sicurezza. La <xref:System.Uri> classe fornisce questi servizi in modo sicuro e protetto. Quando esiste una scelta tra due overload che differiscono solo per la rappresentazione di un URI, l'utente deve scegliere l'overload che accetta un <xref:System.Uri> argomento.

## <a name="how-to-fix-violations"></a>Come correggere le violazioni

Per correggere una violazione di questa regola, chiamare l'overload che accetta l' <xref:System.Uri> argomento.

## <a name="when-to-suppress-warnings"></a>Quando escludere gli avvisi

È possibile eliminare un avviso da questa regola se il parametro di stringa non rappresenta un URI.

## <a name="configurability"></a>Configurabilità

È possibile configurare le parti della codebase su cui eseguire questa regola, in base all'accessibilità. Ad esempio, per specificare che la regola deve essere eseguita solo sulla superficie dell'API non pubblica, aggiungere la coppia chiave-valore seguente a un file con estensione EditorConfig nel progetto:

```ini
dotnet_code_quality.ca2234.api_surface = private, internal
```

È possibile configurare questa opzione solo per questa regola, per tutte le regole o per tutte le regole in questa categoria (utilizzo). Per altre informazioni, vedere [configurare gli analizzatori di qualità del codice .NET](configure-fxcop-analyzers.md).

## <a name="example"></a>Esempio

Nell'esempio seguente viene illustrato un metodo, `ErrorProne` , che viola la regola e un metodo, `SaferWay` , che chiama correttamente l' <xref:System.Uri> Overload:

[!code-vb[FxCop.Usage.PassUri#1](../code-quality/codesnippet/VisualBasic/ca2234-pass-system-uri-objects-instead-of-strings_1.vb)]
[!code-csharp[FxCop.Usage.PassUri#1](../code-quality/codesnippet/CSharp/ca2234-pass-system-uri-objects-instead-of-strings_1.cs)]

## <a name="related-rules"></a>Regole correlate

- [CA1057: Gli overload URI dei valori di stringa chiamano gli overload System.Uri](../code-quality/ca1057.md)
- [CA1056: Le proprietà URI non devono essere stringhe](../code-quality/ca1056.md)
- [CA1054: I parametri URI non devono essere stringhe](../code-quality/ca1054.md)
- [CA1055: I valori restituiti URI non devono essere stringhe](../code-quality/ca1055.md)
