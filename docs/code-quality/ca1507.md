---
title: 'Ca1507: usare NameOf anziché String'
ms.date: 06/13/2020
ms.topic: reference
f1_keywords:
- UseNameofInPlaceOfString
- CA1507
helpviewer_keywords:
- UseNameofInPlaceOfString
- CA1507
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 38ffcc8642f456fb7b1ad44cf05e661e2119567a
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/02/2020
ms.locfileid: "88710598"
---
# <a name="ca1507-use-nameof-in-place-of-string"></a>Ca1507: usare `nameof` al posto della stringa

|Elemento|valore|
|-|-|
|CheckId|Ca1507|
|Category|Microsoft. gestibilità|
|Modifica|Senza interruzioni|

## <a name="cause"></a>Causa

Un `string` valore letterale o una costante che corrisponde al nome di un parametro del metodo contenitore o al nome di una proprietà del tipo contenitore viene usato come argomento di un metodo.

## <a name="rule-description"></a>Descrizione della regola

La regola ca1507 contrassegna l'uso di un `string` valore letterale come argomento di un metodo o di un costruttore in cui un'espressione [NameOf](/dotnet/csharp/language-reference/keywords/nameof) ( `NameOf` in Visual Basic) potrebbe aggiungere la gestibilità. La regola viene attivata se vengono soddisfatte tutte le condizioni seguenti:

- L'argomento è un `string` valore letterale o una costante.

- L'argomento corrisponde a un `string` parametro tipizzato del metodo o del costruttore che viene richiamato (ovvero, non è presente alcuna conversione nel sito di chiamata).

- Una delle due versioni seguenti:
  - Il nome dichiarato del parametro è `paramName` e il valore costante del valore `string` letterale corrisponde al nome di un parametro del metodo, dell'espressione lambda o della funzione locale all'interno della quale viene richiamato il metodo o il costruttore.

  - Il nome dichiarato del parametro è `propertyName` e il valore costante del valore `string` letterale corrisponde al nome di una proprietà del tipo all'interno del quale viene richiamato il metodo o il costruttore.

La regola ca1507 migliora la gestibilità del codice nei casi in cui il parametro può essere rinominato in futuro, ma il `string` valore letterale non viene rinominato erroneamente. Usando `nameof` , il simbolo verrà rinominato quando il parametro viene rinominato tramite un'operazione di refactoring. Inoltre, gli eventuali errori di ortografia nel nome del parametro vengono intercettati dal compilatore.

## <a name="how-to-fix-violations"></a>Come correggere le violazioni

Per correggere una violazione, sostituire il `string` valore letterale con un'espressione [NameOf](/dotnet/csharp/language-reference/keywords/nameof) ( `NameOf` in Visual Basic). Ad esempio, i due frammenti di codice seguenti mostrano una violazione della regola e come risolverli:

```csharp
public Book(string title)
{
    // Violates rule CA1507
    Title = title ?? throw new ArgumentNullException("title", "All books must have a title.");
}
```

```csharp
public Book(string title)
{
    // Resolves rule CA1507 violation
    Title = title ?? throw new ArgumentNullException(nameof(title), "All books must have a title.");
}
```

> [!TIP]
> Una correzione del codice è disponibile per questa regola in Visual Studio. Per usarlo, posizionare il cursore sul `string` valore letterale e premere **CTRL** + **.** (punto). Scegliere **USA NameOf per esprimere i nomi dei simboli** dall'elenco di opzioni presentate.
>
> ![Correzione del codice per ca1507: usare NameOf per esprimere i nomi dei simboli](media/ca1507-code-fix.PNG)

## <a name="when-to-suppress-warnings"></a>Quando escludere gli avvisi

È possibile eliminare una violazione di questa regola se non si è preoccupati della gestibilità del codice.

## <a name="related-rules"></a>Regole correlate

- [CA2208: Creare istanze di eccezioni di argomento correttamente](ca2208.md)

## <a name="see-also"></a>Vedere anche

- [Avvisi di manutenibilità](../code-quality/maintainability-warnings.md)
