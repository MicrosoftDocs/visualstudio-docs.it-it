---
title: 'CA1507: Usare NameOf anziché String'
ms.date: 05/17/2019
ms.topic: reference
f1_keywords:
- UseNameofInPlaceOfString
- CA1507
helpviewer_keywords:
- UseNameofInPlaceOfString
- CA1507
author: gewarren
ms.author: gewarren
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 15599e37804819b38c3e7902b9e3684635a7e4d0
ms.sourcegitcommit: 209ed0fcbb8daa1685e8d6b9a97f3857a4ce1152
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/16/2019
ms.locfileid: "69547410"
---
# <a name="ca1507-use-nameof-in-place-of-string"></a>CA1507: USA `nameof` al posto della stringa

|||
|-|-|
|TypeName|UseNameofInPlaceOfString|
|CheckId|CA1507|
|Category|Microsoft.Maintainability|
|Modifica importante|Senza interruzioni|

## <a name="cause"></a>Causa

Un `string` valore letterale o una costante che corrisponde al nome di un parametro del metodo contenitore o al nome di una proprietà del tipo contenitore viene usato come argomento di un metodo.

## <a name="rule-description"></a>Descrizione della regola

La regola ca1507 contrassegna l'uso di `string` un valore letterale come argomento di un metodo o di un costruttore`NameOf` in cui un'espressione [NameOf](/dotnet/csharp/language-reference/keywords/nameof) (in Visual Basic) aggiunge la leggibilità e la gestibilità. La regola viene attivata se vengono soddisfatte tutte le condizioni seguenti:

- L'argomento è un `string` valore letterale o una costante.

- Il valore costante del `string` valore letterale corrisponde a uno degli elementi seguenti:

  - Nome di un parametro del metodo, dell'espressione lambda o della funzione locale all'interno della quale viene richiamato il metodo o il costruttore.

  - Nome di una proprietà del tipo all'interno del quale viene richiamato il metodo o il costruttore.

- L'argomento corrisponde a un `string`parametro tipizzato del metodo o del costruttore che viene richiamato (ovvero, non è presente alcuna conversione nel sito di chiamata).

La regola ca1507 migliora la gestibilità del codice nei casi in cui il parametro può essere rinominato in futuro, `string` ma il valore letterale non viene rinominato erroneamente. Usando `nameof`, il simbolo verrà rinominato quando il parametro viene rinominato tramite un'operazione di refactoring. Inoltre, gli eventuali errori di ortografia nel nome del parametro vengono intercettati dal compilatore.

> [!NOTE]
> La regola ca1507 non è disponibile nell'analisi legacy. È stata introdotta per la prima volta negli [analizzatori FxCop](https://www.nuget.org/packages/Microsoft.CodeAnalysis.FxCopAnalyzers) versione 2.6.0.

## <a name="how-to-fix-violations"></a>Come correggere le violazioni

Per correggere una violazione, sostituire il `string` valore letterale con un'`NameOf` espressione [NameOf](/dotnet/csharp/language-reference/keywords/nameof) (in Visual Basic). Ad esempio, i due frammenti di codice seguenti mostrano una violazione della regola e come risolverli:

```csharp
public Book(string title)
{
    // Violates rule CA1507
    Title = title ?? throw new ArgumentNullException("title", "All books must have a title.");
}
```

```csharp
public Book(string title)
{
    // Resolves rule CA1507 violation
    Title = title ?? throw new ArgumentNullException(nameof(title), "All books must have a title.");
}
```

> [!TIP]
> Una correzione del codice è disponibile per questa regola in Visual Studio. Per usarlo, posizionare il cursore sul `string` valore letterale e premere **CTRL**+ **.** (punto). Scegliere **USA NameOf per esprimere i nomi dei simboli** dall'elenco di opzioni presentate.
>
> ![Correzione del codice per ca1507: usare NameOf per esprimere i nomi dei simboli](media/ca1507-code-fix.PNG)

## <a name="when-to-suppress-warnings"></a>Quando escludere gli avvisi

È possibile eliminare una violazione di questa regola se non si è preoccupati della gestibilità del codice.

## <a name="related-rules"></a>Regole correlate

- [CA2208 Creare istanze di eccezioni di argomento corrette](ca2208-instantiate-argument-exceptions-correctly.md)

## <a name="see-also"></a>Vedere anche

- [Avvisi di gestibilità](../code-quality/maintainability-warnings.md)
