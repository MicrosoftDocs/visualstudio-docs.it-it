---
title: "CA2351: Verificare che l'input di DataSet.ReadXml() sia attendibile"
ms.date: 08/11/2020
ms.topic: reference
author: dotpaul
ms.author: paulming
manager: jillfra
dev_langs:
- CSharp
ms.workload:
- multiple
f1_keywords:
- CA2351
ms.openlocfilehash: 5b8c3394b47309ada276ff5e8ff32286d757b229
ms.sourcegitcommit: ed4372bb6f4ae64f1fd712b2b253bf91d9ff96bf
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/09/2020
ms.locfileid: "89599818"
---
# <a name="ca2351-ensure-datasetreadxmls-input-is-trusted"></a>CA2351: Verificare che l'input di DataSet.ReadXml() sia attendibile

|Elemento|valore|
|-|-|
|CheckId|CA2351|
|Category|Microsoft.Security|
|Modifica|Senza interruzioni|

## <a name="cause"></a>Causa

Il <xref:System.Data.DataSet.ReadXml%2A?displayProperty=nameWithType> metodo è stato chiamato o a cui si fa riferimento e non è incluso nel codice generato automaticamente.

Questa regola classifica il codice generato automaticamente in base a:
- All'interno di un metodo denominato `ReadXmlSerializable` .
- Il `ReadXmlSerializable` metodo dispone di un oggetto <xref:System.Diagnostics.DebuggerNonUserCodeAttribute?displayProperty=nameWithType> .
- Il `ReadXmlSerializable` metodo si trova all'interno di un tipo che dispone di un oggetto <xref:System.ComponentModel.DesignerCategoryAttribute?displayProperty=nameWithType> .

[CA2361](ca2361.md) è una regola simile, quando <xref:System.Data.DataSet.ReadXml%2A?displayProperty=nameWithType> viene visualizzato all'interno del codice generato automaticamente.

## <a name="rule-description"></a>Descrizione della regola

Quando si deserializza un oggetto <xref:System.Data.DataSet> con un input non attendibile, un utente malintenzionato può creare input dannosi per eseguire un attacco Denial of Service. Potrebbero esserci vulnerabilità di esecuzione del codice remoto sconosciute.

Per ulteriori informazioni, vedere la [Guida alla sicurezza di DataSet e DataTable](https://go.microsoft.com/fwlink/?linkid=2132227).

## <a name="how-to-fix-violations"></a>Come correggere le violazioni

- Se possibile, utilizzare [Entity Framework](/ef/) anziché <xref:System.Data.DataSet> .
- Eseguire la prova di manomissione dei dati serializzati. Dopo la serializzazione, la firma crittografica dei dati serializzati. Prima della deserializzazione, convalidare la firma crittografica. Proteggere la chiave crittografica da divulgare e progettare per le rotazioni delle chiavi.

## <a name="when-to-suppress-warnings"></a>Quando escludere gli avvisi

[!INCLUDE[insecure-deserializers-common-safe-to-suppress](includes/insecure-deserializers-common-safe-to-suppress-md.md)]

## <a name="pseudo-code-examples"></a>Esempi di pseudo-codice

### <a name="violation"></a>Violazione

```csharp
using System.Data;

public class ExampleClass
{
    public DataSet MyDeserialize(string untrustedXml)
    {
        DataSet dt = new DataSet();
        dt.ReadXml(untrustedXml);
    }
}
```

## <a name="related-rules"></a>Regole correlate

[CA2350: Verificare che l'input di DataTable.ReadXml() sia attendibile](ca2350.md)

[CA2352: Un elemento DataSet o DataTable non sicuro nel tipo serializzabile può essere vulnerabile agli attacchi di esecuzione di codice remoto](ca2352.md)

[CA2353: Elemento DataSet o DataTable non sicuro in un tipo serializzabile](ca2353.md)

[CA2354: Un elemento DataSet o DataTable non sicuro nel grafico di oggetti deserializzato può essere vulnerabile agli attacchi di esecuzione di codice remoto](ca2354.md)

[CA2355: Elemento DataSet o DataTable non sicuro nel grafico di oggetti deserializzato](ca2355.md)

[CA2356: DataSet o DataTable non sicuro nell'oggetto grafico deserializzato Web](ca2356.md)

[CA2361: Assicurarsi che la classe generata automaticamente che contiene DataSet.ReadXml() non venga usata con dati non attendibili](ca2361.md)

[CA2362: L'oggetto DataSet o DataTable non sicuro nel tipo serializzabile generato automaticamente può essere vulnerabile ad attacchi di tipo esecuzione di codice remoto](ca2362.md)