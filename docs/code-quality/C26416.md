---
title: C26416
ms.date: 11/15/2017
ms.topic: conceptual
f1_keywords:
- C26411
helpviewer_keywords:
- C26416
ms.assetid: f158207b-45cf-44cf-8e4b-b5b75b56ea0e
author: mikeblome
ms.author: mblome
manager: markl
ms.workload:
- multiple
ms.openlocfilehash: d204ec923fd17b14af5373f66aee65da593c4fef
ms.sourcegitcommit: 535ef05b1e553f0fc66082cd2e0998817eb2a56a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/07/2019
ms.locfileid: "72011632"
---
# <a name="c26416-no_rvalue_ref_shared_ptr"></a>C26416 NO_RVALUE_REF_SHARED_PTR
"Il parametro del puntatore condiviso viene passato per riferimento rvalue. Passa per valore. "

Linee guida principali: **C++** R.34: Prendere un shared_ptr @ no__t-0widget > parametro per esprimere che una funzione è il proprietario della parte

Il passaggio di un puntatore condiviso per riferimento rvalue non è in genere necessario. A meno che non si tratti di un'implementazione della semantica di spostamento per un tipo di puntatore condiviso, gli oggetti puntatore condivisi possono essere passati in modo sicuro per valore. L'uso di un riferimento rvalue può indicare anche che il puntatore univoco è più appropriato poiché trasferisce chiaramente la proprietà univoca dal chiamante al chiamato.

## <a name="remarks"></a>Note
- Questo controllo riconosce std:: shared_pointer e i tipi definiti dall'utente che probabilmente si comporteranno come puntatori condivisi. Per i puntatori condivisi definiti dall'utente sono previsti i tratti seguenti:
- operatori di dereferenziazione o di accesso ai membri in overload (Public e non eliminato);
- Costruttore di copia o operatore di assegnazione di copia (pubblico e non eliminato);
- distruttore pubblico che non viene eliminato né impostato come predefinito. I distruttori vuoti vengono comunque conteggiati come definiti dall'utente.

## <a name="example"></a>Esempio
ottimizzazione del costruttore discutibile

```cpp
action::action(std::shared_ptr<transaction> &&t) noexcept // C26416
    : transaction_(std::move(t))
{}

action::action(std::shared_ptr<transaction> &t) noexcept  // also C26417 LVALUE_REF_SHARED_PTR
    : transaction_(t)
{}
```

## <a name="example"></a>Esempio
ottimizzazione del costruttore discutibile-semplificato

```cpp
action::action(std::shared_ptr<transaction> t) noexcept
    : transaction_(std::move(t))
{}
```
