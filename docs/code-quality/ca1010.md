---
title: "CA1010: Le raccolte devono implementare un'interfaccia generica"
ms.date: 03/11/2019
ms.topic: reference
f1_keywords:
- CA1010
- CollectionsShouldImplementGenericInterface
helpviewer_keywords:
- CA1010
- CollectionsShouldImplementGenericInterface
ms.assetid: c7d7126f-fa70-40be-8f93-3243e1760dc5
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: a5aec731f453ae7e29f74d6c0198cf16d1ca1f77
ms.sourcegitcommit: ade07bd1cf69b8b494d171ae648cfdd54f7800d3
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/21/2020
ms.locfileid: "81648463"
---
# <a name="ca1010-collections-should-implement-generic-interface"></a>CA1010: Le raccolte devono implementare un'interfaccia generica

|||
|-|-|
|TypeName|CollectionsShouldImplementGenericInterface|
|CheckId|CA1010|
|Category|Microsoft.Design|
|Modifica|Non-rottura|

## <a name="cause"></a>Causa

Un tipo <xref:System.Collections.IEnumerable?displayProperty=fullName> implementa l'interfaccia <xref:System.Collections.Generic.IEnumerable%601?displayProperty=fullName> ma non implementa l'interfaccia e l'assembly contenitore è destinato a .NET. Questa regola ignora i <xref:System.Collections.IDictionary?displayProperty=fullName>tipi che implementano .

Per impostazione predefinita, questa regola esamina solo i tipi visibili esternamente, ma è [configurabile.](#configurability) È inoltre possibile configurare interfacce aggiuntive per richiedere l'implementazione di un'interfaccia generica.

## <a name="rule-description"></a>Descrizione della regola

Per ampliare la possibilità di utilizzo di una raccolta, implementare una delle interfacce di raccolta generiche. È quindi possibile utilizzare la raccolta per popolare i tipi di raccolta generici, ad esempio:Then the collection can be used to populate generic collection types such as the following:

- <xref:System.Collections.Generic.List%601?displayProperty=fullName>
- <xref:System.Collections.Generic.Queue%601?displayProperty=fullName>
- <xref:System.Collections.Generic.Stack%601?displayProperty=fullName>

## <a name="how-to-fix-violations"></a>Come correggere le violazioni

Per correggere una violazione di questa regola, implementare una delle interfacce di raccolta generiche seguenti:To fix a violation of this rule, implement one of the following generic collection interfaces:

- <xref:System.Collections.Generic.IEnumerable%601?displayProperty=fullName>
- <xref:System.Collections.Generic.ICollection%601?displayProperty=fullName>
- <xref:System.Collections.Generic.IList%601?displayProperty=fullName>

## <a name="when-to-suppress-warnings"></a>Quando eliminare gli avvisi

È sicuro escludere un avviso da questa regola; tuttavia, l'uso della collezione sarà più limitato.

## <a name="configurability"></a>Configurabilità

Se si esegue questa regola dagli [analizzatori FxCop](install-fxcop-analyzers.md) (e non con l'analisi legacy), è possibile configurare le parti della codebase su cui eseguire questa regola, in base alla loro accessibilità. Ad esempio, per specificare che la regola deve essere eseguita solo sulla superficie dell'API non pubblica, aggiungere la seguente coppia chiave-valore a un file con estensione editorconfig nel progetto:

```ini
dotnet_code_quality.ca1010.api_surface = private, internal
```

È possibile configurare questa opzione solo per questa regola, per tutte le regole o per tutte le regole di questa categoria (Progettazione). Per ulteriori informazioni, consultate [Configurare gli analizzatori FxCop.](configure-fxcop-analyzers.md)

### <a name="additional-required-generic-interfaces"></a>Interfacce generiche richieste aggiuntive

È possibile configurare l'elenco dei nomi di interfaccia (separati da ''') con l'interfaccia completa generica richiesta (separata da '->').

Formati di interfaccia consentiti:

- Solo nome interfaccia (include tutte le interfacce con il nome, indipendentemente dal tipo o dallo spazio dei nomi che lo contiene).
- Nomi completi nel formato dell'ID https://github.com/dotnet/csharplang/blob/master/spec/documentation-comments.md#id-string-format di documentazione del simbolo: con un prefisso "T:" facoltativo.

Esempi:

| Valore opzione | Summary |
| --- | --- |
|`dotnet_code_quality.CA1010.additional_required_generic_interfaces = ISomething->System.Collections.Generic.IEnumerable`\``1`| Tutti i tipi che implementano 'ISomething' indipendentemente dal relativo spazio dei nomi devono implementare anche 'System.Collections.Generic.IEnumerable'1'. |
|`dotnet_code_quality.CA1010.additional_required_generic_interfaces = T:System.Collections.IDictionary->T:System.Collections.Generic.IDictionary`\``2`| Tutti i tipi che implementano 'System.Collections.Generic.IDictionary' devono implementare anche 'System.Collections.Generic.IDictionary'2'. |

## <a name="example-violation"></a>Violazione di esempio

Nell'esempio seguente viene illustrata una classe (tipo `CollectionBase` di riferimento) che deriva dalla classe non generica, che viola questa regola.

[!code-csharp[FxCop.Design.CollectionsGenericViolation#1](../code-quality/codesnippet/CSharp/ca1010-collections-should-implement-generic-interface_1.cs)]

Per correggere una violazione di questa regola, eseguire una delle operazioni seguenti:

- Implementare le interfacce generiche.
- Modificare la classe base in un tipo che implementa già le interfacce generiche e non generiche, ad esempio la `Collection<T>` classe .

## <a name="fix-by-base-class-change"></a>Correggere in base alla modifica della classe baseFix by base class change

Nell'esempio riportato di seguito viene corretta la violazione modificando `CollectionBase` la classe `Collection<T>` `Collection(Of T)` base dell'insieme dalla classe non generica alla classe generica (in Visual Basic).

[!code-csharp[FxCop.Design.CollectionsGenericBase#1](../code-quality/codesnippet/CSharp/ca1010-collections-should-implement-generic-interface_2.cs)]

La modifica della classe base di una classe già rilasciata è considerata una modifica sostanziale per i consumer esistenti.

## <a name="fix-by-interface-implementation"></a>Correggere in base all'implementazione dell'interfacciaFix by interface implementation

Nell'esempio riportato di seguito viene corretta `IEnumerable<T>`la `ICollection<T>`violazione`IEnumerable(Of T)` `ICollection(Of T)`implementando queste interfacce generiche: , , `IList(Of T)` e `IList<T>` ( , e in Visual Basic).

[!code-csharp[FxCop.Design.CollectionsGenericInterface#1](../code-quality/codesnippet/CSharp/ca1010-collections-should-implement-generic-interface_3.cs)]

## <a name="related-rules"></a>Regole correlate

- [CA1005: Evitare un uso eccessivo di parametri nei tipi generici](../code-quality/ca1005.md)
- [CA1000: Non dichiarare membri statici su tipi generici](../code-quality/ca1000.md)
- [CA1002: Non esporre elenchi generici](../code-quality/ca1002.md)
- [CA1006: Non annidare tipi generici nelle firme dei membri](../code-quality/ca1006.md)
- [CA1004: I metodi generici devono specificare parametri di tipo](../code-quality/ca1004.md)
- [Ca1003: Utilizzare istanze di gestori eventi generici](../code-quality/ca1003.md)
- [CA1007: Usare generics dove appropriato](../code-quality/ca1007.md)

## <a name="see-also"></a>Vedere anche

- [Generics](/dotnet/csharp/programming-guide/generics/index)
