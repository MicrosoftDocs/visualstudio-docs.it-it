---
title: Debug di un modello di testo T4 | Microsoft Docs
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-modeling
ms.topic: conceptual
helpviewer_keywords:
- text templates, troubleshooting
- text templates, debugging
ms.assetid: 0877fdf2-20bf-42da-b3cc-4c5856b80821
caps.latest.revision: 30
author: jillre
ms.author: jillfra
manager: jillfra
ms.openlocfilehash: a8054b97d35b2cd5ad1cc68a747448bc7ce4b0d8
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/02/2020
ms.locfileid: "72654921"
---
# <a name="debugging-a-t4-text-template"></a>Debug di un modello di testo T4
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

È possibile impostare punti di interruzione nei modelli di testo. Per eseguire il debug di un modello di testo della fase di progettazione, salvare il file del modello di testo, quindi scegliere **debug T4 modello** dal menu di scelta rapida del file in Esplora soluzioni. Per eseguire il debug di un modello di testo in fase di esecuzione, è sufficiente eseguire il debug dell'applicazione a cui appartiene.

 Per eseguire il debug di un modello di testo, è necessario comprendere i passaggi del processo di trasformazione del modello. All'interno di ogni passaggio possono verificarsi diversi tipi di errori. I passaggi sono i seguenti.

|Passaggio|Modello della fase di progettazione: quando si verifica|Modello in fase di esecuzione: quando si verifica|
|----------|--------------------------------------------|-----------------------------------------|
|Il codice viene generato dal modello di testo.<br /><br /> Errori nelle direttive o tag non corrispondenti o disordinati `<#…#>` .|Quando si salva il modello o si richiama la trasformazione del testo.|Quando si salva il modello o si richiama la trasformazione del testo.|
|Il codice generato viene compilato.<br /><br /> Errori di compilazione nel codice del modello.|Subito dopo il passaggio precedente.|Insieme al codice dell'applicazione.|
|Esecuzione del codice.<br /><br /> Errori di run-time nel codice del modello.|Subito dopo il passaggio precedente.|Quando l'applicazione viene eseguita e richiama il codice del modello.|

 Nella maggior parte dei casi, i numeri di riga nel codice del modello vengono specificati nel report degli errori. Quando il rapporto di errore fa riferimento a un nome di file temporaneo, la normale cause è una parentesi non corrispondente nel codice del modello di testo.

 È possibile impostare punti di interruzione nei modelli di testo ed eseguire il debug nel modo consueto.

## <a name="common-errors-and-fixes"></a>Errori e correzioni comuni
 Nella tabella seguente sono elencati gli errori più comuni e le relative correzioni.

|Messaggio di errore|Descrizione|Soluzione|
|-------------------|-----------------|--------------|
|Non è stato possibile caricare la classe di base ' {0} ' da cui eredita la classe Transformation.|Si verifica se non è possibile trovare la classe di base specificata nel `inherits` parametro in una direttiva template. Il messaggio fornisce il numero di riga della direttiva template.|Verificare che la classe specificata esista e che l'assembly in cui è presente sia specificato in una direttiva dell'assembly.|
|Non è stato possibile risolvere il testo di inclusione per il file:{0}|Si verifica quando non è possibile trovare un modello incluso. Il messaggio fornisce il nome del file di inclusione richiesto.|Verificare che il percorso del file sia relativo al percorso del modello originale o che il file si trovi in un percorso registrato con l'host oppure che sia presente un percorso completo del file.|
|Sono stati generati errori durante l'inizializzazione dell'oggetto Transformation. La trasformazione non verrà eseguita.|Si verifica quando l'oggetto ' Initialize ()' della classe Transformation ha avuto esito negativo o ha restituito false.|Il codice nella funzione Initialize () deriva dalla classe Transformation di base specificata nella \<#@template#> direttiva e dai processori di direttiva. L'errore che ha causato l'esito negativo dell'inizializzazione probabilmente si trova nell'elenco errori. Individuare il motivo per cui l'operazione non è riuscita. È possibile esaminare il codice generato effettivo per Initialize () attenendosi alle procedure per eseguire il debug di un modello.|
|All'assembly ' {0} ' per il processore di direttiva ' {1} ' non è stato concesso il set di autorizzazioni FullTrust. Solo gli assembly trusted possono fornire processori di direttiva. Questo processore di direttiva non verrà caricato.|Si verifica quando il sistema non concede autorizzazioni FullTrust a un assembly contenente un processore di direttiva. Il messaggio fornisce il nome dell'assembly e il nome del processore di direttiva.|Assicurarsi di usare solo assembly attendibili nel computer locale.|
|Il percorso ' {0} ' deve essere locale in questo computer o parte dell'area attendibile.|Si verifica quando una direttiva o una direttiva dell'assembly fa riferimento a un file che non si trova nel computer locale o nell'area attendibile della rete.|Assicurarsi che la directory in cui si trovano le direttive dell'assembly o della direttiva si trovi nell'area attendibile. È possibile aggiungere una directory di rete all'area attendibile tramite Internet Explorer.|
|Più errori di sintassi, ad esempio "token non valido ' Catch '" o "uno spazio dei nomi non può contenere direttamente membri"|Troppe parentesi graffe di chiusura nel codice del modello. Il compilatore confonde il codice di generazione standard.|Verificare il numero di parentesi graffe di chiusura e parentesi quadre all'interno dei delimitatori di codice.|
|Cicli o condizionali non compilati o eseguiti correttamente. Ad esempio: `<#if (i>10)#> Number is: <#= i #>`.<br /><br /> Questo codice restituisce sempre il valore di i. Solo "number is:" è condizionale.|In C# usare sempre le parentesi graffe per racchiudere i blocchi di testo incorporati nelle istruzioni di controllo.|Aggiungi parentesi graffe: `<#if (i>10) { #>    Number is: <#= i #><# } #>` .|
|"Espressione troppo complessa" quando si elabora un modello in fase di progettazione o si compila un modello di runtime (pre-elaborato).<br /><br /> [!INCLUDE[vsprvs](../includes/vsprvs-md.md)] smette di funzionare quando si tenta di controllare il codice generato da un modello di Runtime.|Il blocco di testo è troppo lungo. T4 converte i blocchi di testo in un'espressione di concatenazione di stringhe, con un valore letterale stringa per ogni riga del modello. I blocchi di testo molto lunghi possono oltrepassare i limiti delle dimensioni del compilatore.|Suddividere il blocco di testo lungo con un blocco di espressione, ad esempio:<br /><br /> `<#= "" #>`|

## <a name="warning-descriptions-and-fixes"></a>Descrizioni e correzioni di avviso
 La tabella seguente elenca gli avvisi più comuni insieme alle correzioni, se disponibili.

|Messaggio di avviso|Descrizione|Soluzione|
|---------------------|-----------------|--------------|
|Il caricamento del file di inclusione ' {0} ' ha restituito una stringa null o vuota.|Si verifica se un file del modello di testo incluso è vuoto. Il messaggio fornisce il nome file del file incluso.|Rimuovere la direttiva include o verificare che il file includa contenuto.|
|Compilazione della trasformazione:|Antepone questa stringa a tutti gli errori o avvisi originati dal compilatore durante la compilazione della trasformazione. Questa stringa indica che il compilatore ha generato un errore o un avviso.|Se si verifica un problema durante la ricerca della DLL, potrebbe essere necessario specificare il percorso completo o un nome sicuro completo se la DLL si trova nella GAC.|
|Il parametro ' {0} ' esiste già nella direttiva. Il parametro duplicato verrà ignorato.|Si verifica quando un parametro viene specificato più di una volta in una direttiva. Il messaggio fornisce il nome del parametro e il numero di riga della direttiva.|Rimuovere la specifica di parametri duplicati.|
|Si è verificato un errore durante il caricamento del file di inclusione ' {0} '. La direttiva include verrà ignorata.|Si verifica quando non è possibile trovare un file specificato in una `include` direttiva. Il messaggio fornisce il nome del file e il numero di riga della direttiva.|Assicurarsi che il file di inclusione sia presente nella stessa directory del file del modello di testo originale o in una delle directory di inclusione registrate con l'host.|
|Per la classe Transformation è stata specificata una classe base non valida. La classe base deve derivare da Microsoft. VisualStudio. TextTemplating. TextTransformation.|Si verifica quando il `inherits` parametro in una direttiva template specifica una classe che non eredita da `TextTransformation` . Il messaggio fornisce il numero di riga della direttiva template.|Specificare una classe che deriva da `TextTransformation` .|
|Nella direttiva ' template ' sono state specificate impostazioni cultura non valide. Le impostazioni cultura devono essere nel formato "XX-XX". Verranno utilizzate le impostazioni cultura invarianti.|Si verifica quando il parametro culture in una direttiva template non è specificato correttamente. Il messaggio fornisce il numero di riga della direttiva template.|Modificare il parametro culture in una lingua valida nel formato "XX-XX".|
|{0}Nella direttiva template è stato specificato un valore di debug '' non valido. Il valore di debug deve essere "true" o "false". Verrà utilizzato il valore predefinito "false".|Si verifica quando il `debug` parametro in una direttiva template non è specificato correttamente. Il messaggio fornisce il numero di riga della direttiva template.|Impostare il parametro debug su "true" o "false".|
|{0}Nella direttiva template è stato specificato un valore HostSpecific '' non valido. Il valore HostSpecific deve essere impostato su "true" o "false". Verrà utilizzato il valore predefinito "false".|Si verifica quando il parametro specifico dell'host in una `template` direttiva viene specificato in modo non corretto. Il messaggio fornisce il numero di riga della direttiva template.|Impostare il parametro specifico dell'host su "true" o "false".|
|{0}Nella direttiva ' template ' è stato specificato un linguaggio non valido ''. Il linguaggio deve essere "C#" o "VB". Verrà utilizzato il valore predefinito "C#".|Si verifica quando nella direttiva viene specificata una lingua non supportata `template` . Sono consentiti solo "C#" o "VB" (senza distinzione tra maiuscole e minuscole). Il messaggio fornisce il numero di riga della direttiva template.|Impostare il `language` parametro nella direttiva template su "C#" o "VB".|
|Nel modello sono state trovate più direttive di output. Tutti tranne il primo verranno ignorati.|Si verifica quando `output` vengono specificate più direttive in un file di modello. Il messaggio fornisce il numero di riga della direttiva output duplicato.|Rimuovere le `output` direttive duplicate.|
|Nel modello sono state trovate più direttive template. Tutti tranne il primo verranno ignorati. È necessario specificare più parametri per la direttiva template all'interno di una direttiva template.|Si verifica se si specificano più `template` direttive all'interno di un file di modello di testo (inclusi i file inclusi). Il messaggio fornisce il numero di riga della direttiva del modello duplicato.|Aggregare le diverse `template` direttive in un'unica `template` direttiva.|
|Non è stato specificato alcun processore per una direttiva denominata ' {0} '. La direttiva verrà ignorata.|Si verifica se si specifica una `custom` direttiva, ma non si fornisce un `processor` attributo. Il messaggio fornisce il nome della direttiva e il numero di riga.|Fornire un `processor` attributo con il nome del `directive` processore per la direttiva.|
|Impossibile trovare un processore denominato ' {0} ' per la direttiva denominata ' {1} '. La direttiva verrà ignorata.|Si verifica quando il sistema non è in grado di trovare il `directive` processore specificato all'interno di una `custom` direttiva. Il messaggio fornisce il nome della direttiva, il nome del processore e il numero di riga della direttiva.|Impostare l' `processor` attributo della direttiva sul nome del processore di direttiva.|
|Il parametro obbligatorio ' {0} ' per la direttiva ' {1} ' non è stato trovato. La direttiva verrà ignorata.|Si verifica quando il sistema non fornisce un parametro obbligatorio per la direttiva. Il messaggio fornisce il nome del parametro mancante, il nome della direttiva e il numero di riga.|Fornire il parametro mancante.|
|Il processore denominato ' {0} ' non supporta la direttiva denominata ' {1} '. La direttiva verrà ignorata.|Si verifica quando un processore di direttiva non supporta una direttiva. Il messaggio fornisce il nome e il numero di riga della direttiva che causa il danneggiamento insieme al nome del processore di direttiva.|Correggere il nome della direttiva.|
|La direttiva include per il file ' {0} ' causa un ciclo infinito.|Visualizzato se vengono specificate direttive di inclusione circolari, ad esempio il file A include il file B, che include il file A.|Non specificare direttive include circolari.|
|Esecuzione della trasformazione:|Antepone questa stringa a tutti gli errori o gli avvisi generati durante l'esecuzione della trasformazione.|Non applicabile.|
|Trovato un tag di inizio o di fine imprevisto all'interno di un blocco. Assicurarsi di non avere digitato un tag di inizio o di fine e che non siano presenti blocchi annidati nel modello.|Visualizzato quando si dispone di un oggetto imprevisto \<# or #> . Ovvero, se si dispone di un oggetto \<# after another open tag that has not been closed, or you have a #> quando non è presente alcun tag aperto non chiuso prima di esso. Il messaggio fornisce il numero di riga del tag non corrispondente.|Rimuovere il tag di inizio o di fine non corrispondente o usare un carattere di escape.|
|Una direttiva è stata specificata nel formato errato. La direttiva verrà ignorata. Specificare la direttiva nel formato `<#@ name [parametername="parametervalue"]*  #>`|Visualizzato dal parser se una direttiva non è specificata nel formato corretto. Il messaggio fornisce il numero di riga della direttiva non corretta.|Verificare che tutte le direttive siano nel formato `<#@ name [parametername="parametervalue"]*  #>` . Per altre informazioni, vedere [direttive di modello di testo T4](../modeling/t4-text-template-directives.md).|
|Non è stato possibile caricare l'assembly ' {0} ' per il processore di direttiva registrato ' {1} '<br /><br /> {2}|Si verifica quando un processore di direttiva non può essere caricato dall'host. Il messaggio identifica l'assembly fornito per il processore di direttiva e il nome del processore di direttiva.|Verificare che il processore di direttiva sia registrato correttamente e che l'assembly esista.|
|Non è stato possibile trovare il tipo ' {0} ' nell'assembly ' {1} ' per il processore di direttiva registrato ' {2} '<br /><br /> {3}|Si verifica quando non è possibile caricare un tipo di processore di direttiva dall'assembly. Il messaggio fornisce il nome del tipo, dell'assembly e del processore di direttiva.|Vshost trova le informazioni sul processore di direttiva (nome, assembly e tipo) nel registro di sistema. Verificare che il processore di direttiva sia registrato correttamente e che il tipo esista nell'assembly.|
|Si è verificato un problema durante il caricamento dell'assembly ' {0} '|Si verifica quando si verifica un problema durante il caricamento di un assembly. Il messaggio fornisce il nome dell'assembly.|È possibile specificare gli assembly da caricare nelle \<@#assembly#> direttive e dai processori di direttiva. Il messaggio di errore che segue questa stringa deve fornire più dati sul motivo per cui il caricamento dell'assembly ha avuto esito negativo.|
|Si è verificato un problema durante la creazione e l'inizializzazione del processore per una direttiva denominata ' {1} '. Il tipo di processore è {0} . La direttiva verrà ignorata.|Si verifica quando il sistema non è stato in grado di creare o inizializzare un processore di direttiva. Il messaggio fornisce il nome e il numero di riga della direttiva e il tipo di processore.|Assicurarsi di usare il processore di direttiva corretto e che il processore di direttiva disponga di un costruttore predefinito pubblico. In caso contrario, utilizzare le opzioni di debug per individuare il motivo per cui il metodo Initialize () del processore di direttiva ha esito negativo. Per ulteriori informazioni, vedere [risoluzione dei problemi relativi ai modelli di testo](../modeling/debugging-a-t4-text-template.md).|
|È stata generata un'eccezione durante l'elaborazione di una direttiva denominata ' {0} '.|Si verifica quando un processore di direttiva genera un'eccezione durante l'elaborazione di una direttiva.|Assicurarsi che i parametri per il processore di direttiva siano corretti.|
|L'host ha generato un'eccezione durante il tentativo di risolvere il riferimento all'assembly ' {0} '.|Si verifica quando l'host genera un'eccezione durante il tentativo di risolvere un riferimento a un assembly. Il messaggio fornisce la stringa di riferimento all'assembly.|I riferimenti ad assembly provengono da \<@#assembly#> direttive e da processori di direttive. Verificare che il parametro ' name ' specificato nel parametro assembly sia corretto.|
|Tentativo di specificare un {1} valore '' non supportato {0} per la direttiva {2}|Viene generato da RequiresProvidesDirectiveProcessor (tutti i processori di direttiva generati derivano da esso), quando si fornisce un argomento requires o for non supportato.|Assicurarsi che i nomi nelle coppie nome =' valore ' specificate in richiede e forniscano parametri corretti.|
